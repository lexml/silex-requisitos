% -------
% Extensão de \autoref
% -------
\newcommand{\textref}[2][autoref]{%
	\ifthenelse{\equal{#1}{autoref}}%
		{\autoref{#2}}%
		{\hyperref[#2]{#1~\ref{#2}}}}	


% -------
% Entrada da tabela de requisitos
% -------
\newcommand{\requisito}[3]{%
  \edef\@currentlabel{#1}% Set target label
  \phantomsection% Correct hyper reference link
  #1\label{#1} & #3  & #2 \\
 \hline
}

% -------
% Tabela de requisitos
% -------
\newenvironment{tabelarequisito}[2]{%
\begin{center}
\footnotesize

\begin{ThreePartTable}

\begin{longtable}{p{1.5cm}|p{12.0cm}|r}


\caption{#1}\label{#2} \\
\hline 
\textbf{Ref}	& \textbf{Requisitos} & \textbf{Obrig} \\
\hline 
\endfirsthead

\caption[]{#1} \\

%This is the header for the first page of the table...
\hline 
\textbf{Ref}	& \textbf{Requisitos} & \textbf{Obrig} \\
\hline 
%\endfirsthead
\endhead

%This is the footer for all pages except the last page of the table...
  \multicolumn{3}{r}{{Continua\ldots}} \\
\endfoot

%This is the footer for the last page of the table...
\hline \hline
\endlastfoot

}{%
\end{longtable}
%\legend{Fonte: os autores}
\end{ThreePartTable}
\end{center}
}


% -------
% Entrada da tabela de relacionamentos
% -------
\newcommand{\relacionamento}[7]{%
  #1 & #2 & #4 & #5 & #6 & #7 \\
 \hline
}

% -------
% Tabela de relacionamentos
% -------
\newenvironment{tabelarelacionamento}[2]{%
\begin{center}
\footnotesize

\begin{ThreePartTable}

\begin{longtable}{p{3.8cm}|p{3.8cm}|p{3.8cm}|p{3.8cm}|p{3.8cm}|p{3.8cm}}

\caption{#1}\label{#2} \\
\hline 
    \textbf{Domínio}
    & \textbf{Papel (Domínio) / Par.} 
    & \textbf{Nome relacionamento} 
    & \textbf{Papel (Imagem) / Part.}
    & \textbf{Imagem}
    & \textbf{Nota de compilação} \\
\hline 

\endfirsthead

\caption[]{#1} \\

%This is the header for the first page of the table...
\hline 
    \textbf{Domínio}
    & \textbf{Papel (Domínio) / Par.} 
    & \textbf{Nome relacionamento} 
    & \textbf{Papel (Imagem) / Part.}
    & \textbf{Imagem}
    & \textbf{Nota de compilação} \\
\hline 
%\endfirsthead
\endhead

%This is the footer for all pages except the last page of the table...
  \multicolumn{6}{r}{{Continua\ldots}} \\
\endfoot

%This is the footer for the last page of the table...
\hline \hline
\endlastfoot

}{%
\end{longtable}
%\legend{Fonte: os autores}
\end{ThreePartTable}
\end{center}
}
